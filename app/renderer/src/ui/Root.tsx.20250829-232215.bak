import * as React from "react";
import { useUI } from "../providers/UIProvider";
import { TinySpinner } from "../components/ui/TinySpinner";

const AppLazy = React.lazy(()=> import("./App"));

export default function Root(){
  const { view } = useUI();
  return (
    <div style={{width:"100%",height:"100%",position:"relative"}}>
      {view === "loading"
        ? <GateLazy/>
        : <React.Suspense fallback={<Center><TinySpinner label="Preparing desk..." /></Center>}><AppLazy/></React.Suspense>}
    </div>
  );
}

const GateLazy = React.lazy(()=> import("../components/ui/EnterGate"));
function Center({children}:{children:any}){ return <div style={{display:"grid",placeItems:"center",height:"100%"}}>{children}</div>; }
